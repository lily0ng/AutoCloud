AWSTemplateFormatVersion: '2010-09-09'
Description: 'AWS IAM User Template'

Parameters:
  UserName:
    Type: String
    Default: MyIAMUser

Resources:
  IAMUser:
    Type: AWS::IAM::User
    Properties:
      UserName: !Ref UserName
      ManagedPolicyArns:
        - arn:aws:iam::aws:policy/ReadOnlyAccess
      Tags:
        - Key: Name
          Value: !Ref UserName

  AccessKey:
    Type: AWS::IAM::AccessKey
    Properties:
      UserName: !Ref IAMUser

Outputs:
  UserArn:
    Value: !GetAtt IAMUser.Arn
  AccessKeyId:
    Value: !Ref AccessKey
  SecretAccessKey:
    Value: !GetAtt AccessKey.SecretAccessKey
