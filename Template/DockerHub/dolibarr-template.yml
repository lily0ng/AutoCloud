---
# Dolibarr ERP Template
version: '3.8'
services:
  dolibarr:
    image: dolibarr/dolibarr:latest
    restart: always
    ports: ["80:80"]
    environment:
      DOLI_DB_HOST: mariadb
      DOLI_DB_NAME: dolibarr
      DOLI_DB_USER: dolibarr
      DOLI_DB_PASSWORD: ${DB_PASSWORD:-dolibarrpass}
      DOLI_ADMIN_LOGIN: admin
      DOLI_ADMIN_PASSWORD: ${ADMIN_PASSWORD:-admin}
    volumes: [dolibarr_documents:/var/www/documents, dolibarr_html:/var/www/html]
    depends_on: [mariadb]
  mariadb:
    image: mariadb:10.6
    restart: always
    environment:
      MYSQL_DATABASE: dolibarr
      MYSQL_USER: dolibarr
      MYSQL_PASSWORD: ${DB_PASSWORD:-dolibarrpass}
      MYSQL_ROOT_PASSWORD: ${ROOT_PASSWORD:-rootpass}
    volumes: [mariadb_data:/var/lib/mysql]
volumes:
  dolibarr_documents:
  dolibarr_html:
  mariadb_data:
